{% extends "base.html" %}
{% block content %}
<h1>All Posts</h1>

<ul class="post-list">
  {% for post in object_list %}
    <li>
      <h2>
        <a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a>
      </h2>
      <p>{{ post.content|truncatewords:30 }}</p>

      <p>Tags:
        {% for tag in post.tags.all %}
          <a href="{% url 'posts_by_tag' tag.name %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
        {% empty %}
          No tags
        {% endfor %}
      </p>
    </li>
  {% empty %}
    <li>No posts available.</li>
  {% endfor %}
</ul>